<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Shrimp Market Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {font-family:Segoe UI;background:#f4f6f8;padding:20px}
.grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}
.card {background:#fff;padding:15px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.08)}
.value {font-size:26px;font-weight:bold}
table {width:100%;border-collapse:collapse;background:#fff;margin-top:20px}
th,td {padding:8px;border-bottom:1px solid #eee;text-align:center}
th {background:#eee}
</style>
</head>

<body>

<h1>Executive Shrimp Market Overview</h1>
<p>{{ summary }}</p>

<div class="grid">
<div class="card">Avg Price<div class="value">{{ overview.avg_price }}</div></div>
<div class="card">Trend<div class="value">{{ overview.trend }}</div></div>
<div class="card">Market<div class="value">{{ overview.market }}</div></div>
<div class="card">Size<div class="value">{{ overview.size }}</div></div>
</div>

<h2>7-Day Comparison</h2>
<div class="grid">
<div class="card">Last 7 Avg<div class="value">{{ compare_7d.avg_last_7 }}</div></div>
<div class="card">Prev 7 Avg<div class="value">{{ compare_7d.avg_prev_7 }}</div></div>
<div class="card">Diff<div class="value">{{ compare_7d.diff }}</div></div>
<div class="card">% Change<div class="value">{{ compare_7d.pct }}%</div></div>
</div>

<h2>Raw Google Sheet Data</h2>
<table>
<thead>
<tr>
<th>Date</th><th>Market</th><th>Size</th><th>Price</th>
</tr>
</thead>
<tbody>
{% if prices %}
{% for p in prices %}
<tr>
<td>{{ p.date }}</td>
<td>{{ p.market }}</td>
<td>{{ p.size }}</td>
<td>{{ p.price }}</td>
</tr>
{% endfor %}
{% else %}
<tr><td colspan="4">No Data Found</td></tr>
{% endif %}
</tbody>
</table>

</body>
</html>
